import{f as V,I as H,$ as q,H as W,a0 as G,a1 as j,a2 as R,a3 as $,a4 as K,a5 as B,_ as Q}from"./CaZwD0AS.js";function U(e){return R()?($(e),!0):!1}function O(e){return typeof e=="function"?e():V(e)}const X=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Y=Object.prototype.toString,Z=e=>Y.call(e)==="[object Object]",k=()=>{};function P(e,t){function n(...i){return new Promise((o,a)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(o).catch(a)})}return n}const D=e=>e();function ee(e=D){const t=W(!0);function n(){t.value=!1}function i(){t.value=!0}const o=(...a)=>{t.value&&e(...a)};return{isActive:G(t),pause:n,resume:i,eventFilter:o}}function te(e){return K()}function ne(e,t,n={}){const{eventFilter:i=D,...o}=n;return j(e,P(i,t),o)}function re(e,t,n={}){const{eventFilter:i,...o}=n,{eventFilter:a,pause:h,resume:w,isActive:y}=ee(i);return{stop:ne(e,t,{...o,eventFilter:a}),pause:h,resume:w,isActive:y}}function ie(e,t=!0,n){te()?H(e,n):t?e():q(e)}function se(e){var t;const n=O(e);return(t=n==null?void 0:n.$el)!=null?t:n}const T=X?window:void 0;function F(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=T):[t,n,i,o]=e,!t)return k;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],h=()=>{a.forEach(c=>c()),a.length=0},w=(c,u,m,l)=>(c.addEventListener(u,m,l),()=>c.removeEventListener(u,m,l)),y=j(()=>[se(t),O(o)],([c,u])=>{if(h(),!c)return;const m=Z(u)?{...u}:u;a.push(...n.flatMap(l=>i.map(b=>w(c,l,b,m))))},{immediate:!0,flush:"post"}),p=()=>{y(),h()};return U(p),p}const I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__vueuse_ssr_handlers__",oe=ue();function ue(){return A in I||(I[A]=I[A]||{}),I[A]}function ae(e,t){return oe[e]||t}function ce(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const le={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},N="vueuse-storage";function fe(e,t,n,i={}){var o;const{flush:a="pre",deep:h=!0,listenToStorageChanges:w=!0,writeDefaults:y=!0,mergeDefaults:p=!1,shallow:c,window:u=T,eventFilter:m,onError:l=r=>{console.error(r)},initOnMounted:b}=i,d=(c?B:W)(typeof t=="function"?t():t);if(!n)try{n=ae("getDefaultStorage",()=>{var r;return(r=T)==null?void 0:r.localStorage})()}catch(r){l(r)}if(!n)return d;const g=O(t),C=ce(g),S=(o=i.serializer)!=null?o:le[C],{pause:J,resume:x}=re(d,()=>M(d.value),{flush:a,deep:h,eventFilter:m});u&&w&&ie(()=>{F(u,"storage",v),F(u,N,L),b&&v()}),b||v();function E(r,s){u&&u.dispatchEvent(new CustomEvent(N,{detail:{key:e,oldValue:r,newValue:s,storageArea:n}}))}function M(r){try{const s=n.getItem(e);if(r==null)E(s,null),n.removeItem(e);else{const f=S.write(r);s!==f&&(n.setItem(e,f),E(s,f))}}catch(s){l(s)}}function z(r){const s=r?r.newValue:n.getItem(e);if(s==null)return y&&g!=null&&n.setItem(e,S.write(g)),g;if(!r&&p){const f=S.read(s);return typeof p=="function"?p(f,g):C==="object"&&!Array.isArray(f)?{...g,...f}:f}else return typeof s!="string"?s:S.read(s)}function v(r){if(!(r&&r.storageArea!==n)){if(r&&r.key==null){d.value=g;return}if(!(r&&r.key!==e)){J();try{(r==null?void 0:r.newValue)!==S.write(d.value)&&(d.value=z(r))}catch(s){l(s)}finally{r?q(x):x()}}}}function L(r){v(r.detail)}return d}function _(e,t,n={}){const{window:i=T}=n;return fe(e,t,i==null?void 0:i.localStorage,n)}const de=Q("cart",{state:()=>({items:_("shoppingItems",[])}),hydrate(e,t){e.items=_("shoppingItems",[])},getters:{getItems:e=>e.items,getTotalItems:e=>e.items.reduce((t,n)=>t+n.quantity,0),getTotalAmount:e=>e.items.reduce((t,n)=>t+n.subTotal,0)},actions:{async addToCard(e){let t=this.items.find(n=>n.productId==e.id);if(t){let n=this.items.findIndex(i=>i.productId==e.id);t.quantity+=1,t.subTotal=t.quantity*t.price,this.items[n]=t}else this.items.push({productId:e.id,productTitle:e.title,productImage:e.image,price:e.price,quantity:1,category:e.category,subTotal:e.price})},async incrementCart(e){let t=this.items.findIndex(n=>n.productId==e.id);e.quantity+=1,e.subTotal=e.quantity*e.price,this.items[t]=e},async decrementCart(e){let t=this.items.findIndex(n=>n.productId==e.id);e.quantity-=1,e.subTotal=e.quantity*e.price,this.items[t]=e,e.quantity<1&&this.removeItem(e)},async removeItem(e){let t=this.items.findIndex(n=>n.productId==e.id);this.items.splice(t,1)},async clearItems(){this.items=[]}}});export{de as u};
